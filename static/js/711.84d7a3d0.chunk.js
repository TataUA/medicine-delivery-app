"use strict";(self.webpackChunkmedicine_delivery_app=self.webpackChunkmedicine_delivery_app||[]).push([[711],{711:(n,e,r)=>{r.r(e),r.d(e,{default:()=>z});var t,i,o,d,a,s=r(43),l=r(204),p=r(388),x=r(528),c=r(680);const h=c.A.div(t||(t=(0,x.A)(["\n  display: flex;\n  gap: 30px;\n  margin-bottom: 30px;\n"]))),u=c.A.div(i||(i=(0,x.A)(["\n  width: calc((100% - 30px) / 2);\n  height: 480px;\n  padding: 15px 30px;\n  border: 3px solid var(--border);\n  border-radius: 8px;\n\n  > label {\n    display: block;\n    margin-bottom: 30px;\n    font-weight: 600;\n    font-size: 18px;\n\n    > input {\n      display: block;\n      width: 400px;\n      height: 40px;\n      margin-top: 8px;\n      border: 3px solid var(--border);\n      border-radius: 8px;\n    }\n  }\n"]))),b=c.A.div(o||(o=(0,x.A)(["\n  width: calc((100% - 30px) / 2);\n  height: 480px;\n  padding: 15px 30px;\n  border: 3px solid var(--border);\n  border-radius: 8px;\n  overflow-y: auto;\n"]))),g=c.A.ul(d||(d=(0,x.A)(["\n  display: flex;\n  flex-wrap: wrap;\n  width: 100%;\n  gap: 15px;\n"]))),m=c.A.div(a||(a=(0,x.A)(["\n  display: flex;\n  justify-content: right;\n  align-items: center;\n\n  > p {\n    font-weight: 600;\n    font-size: 22px;\n    margin-right: 80px;\n  }\n\n  > button {\n    width: 260px;\n    height: 60px;\n    border: 2px solid var(--border);\n    border-radius: 8px;\n    font-weight: 600;\n    font-size: 22px;\n\n    &:hover,\n    :focus {\n      transform: scale(1.1);\n      transition: var(--transition);\n    }\n  }\n"])));var v,y,f,j,w;const A=c.A.li(v||(v=(0,x.A)(["\n  position: relative;\n  display: flex;\n  width: 100%;\n  padding: 8px;\n  border: 3px solid var(--border);\n  border-radius: 8px;\n\n  > img {\n    border-radius: 8px;\n    margin-right: 8px;\n  }\n\n  > div {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n\n    > h2 {\n      margin-bottom: 8px;\n      font-weight: 600;\n      font-size: 18px;\n    }\n\n    > p {\n      margin-bottom: 16px;\n      font-size: 14px;\n    }\n  }\n"]))),k=c.A.div(y||(y=(0,x.A)(["\n  position: relative;\n  width: 200px;\n  text-align: center;\n  > input {\n    width: 200px;\n    height: 30px;\n    border: 2px solid var(--border);\n    border-radius: 8px;\n    text-align: center;\n  }\n"]))),C=c.A.button(f||(f=(0,x.A)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  display: flex;\n  align-items: start;\n  width: 30px;\n  height: 15px;\n  border: 2px solid var(--border);\n  border-top-right-radius: 8px;\n  background-color: var(--gray);\n\n  &:hover,\n  :focus {\n    background-color: var(--border);\n    transition: var(--transition);\n  }\n"]))),q=c.A.button(j||(j=(0,x.A)(["\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  display: flex;\n  align-items: end;\n  width: 30px;\n  height: 15px;\n  border: 2px solid var(--border);\n  border-bottom-right-radius: 8px;\n  background-color: var(--gray);\n\n  &:hover {\n    background-color: var(--border);\n    transition: var(--transition);\n  }\n"]))),_=c.A.button(w||(w=(0,x.A)(["\n  position: absolute;\n  top: -10px;\n  right: -10px;\n  width: 30px;\n  height: 30px;\n  border: 2px solid var(--border);\n  border-radius: 50%;\n  text-align: center;\n  font-weight: 600;\n\n  &:hover {\n    transform: scale(1.1);\n    transition: var(--transition);\n  }\n"])));var P=r(579);const S=n=>{let{product:e}=n;const{_id:r,name:t,price:i,image:o,quantity:d}=e,{addedProducts:a,setAddedProducts:l}=(0,s.useContext)(p.M);return(0,P.jsxs)(A,{children:[(0,P.jsx)("img",{src:o,width:180,height:90,alt:""}),(0,P.jsxs)("div",{children:[(0,P.jsx)("h2",{children:t}),(0,P.jsxs)("p",{children:["Price: ",i," \u20b4"]}),(0,P.jsxs)(k,{children:[(0,P.jsx)("input",{value:d,readOnly:!0}),(0,P.jsx)(C,{onClick:()=>(n=>{const e=a.map((e=>{if(e._id===n){const n=Math.min(10,e.quantity+1);return{...e,quantity:n}}return e}));l(e)})(r),children:"\ud83d\udf81"}),(0,P.jsx)(q,{onClick:()=>(n=>{const e=a.map((e=>{if(e._id===n){const n=Math.max(1,e.quantity-1);return{...e,quantity:n}}return e}));l(e)})(r),children:"\ud83d\udf83"})]}),(0,P.jsx)(_,{onClick:()=>(n=>{const e=a.filter((e=>e._id!==n));l(e)})(r),children:"X"})]})]},r)},z=()=>{const{addedProducts:n,setAddedProducts:e}=(0,s.useContext)(p.M),[r,t]=(0,s.useState)(""),[i,o]=(0,s.useState)(""),[d,a]=(0,s.useState)(""),[x,c]=(0,s.useState)(""),v=n.reduce(((n,e)=>n+e.price*e.quantity),0);return(0,P.jsx)("div",{children:(0,P.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),0===n.length&&alert("You need to add product...");const p={username:r,email:i,phone:d,address:x,products:n};try{const n=await async function(n){try{const{data:e}=await l.A.post("api/orders",n);return e}catch(e){throw new Error("Order didn`t add")}}(p);console.log(n),t(""),a(""),o(""),c(""),e([])}catch(h){console.error(h)}},children:[(0,P.jsxs)(h,{children:[(0,P.jsxs)(u,{children:[(0,P.jsxs)("label",{htmlFor:"name",children:["Name:",(0,P.jsx)("input",{type:"text",value:r,placeholder:"Type your name...",onChange:n=>{t(n.target.value)},required:!0})]}),(0,P.jsxs)("label",{htmlFor:"name",children:["Email:",(0,P.jsx)("input",{type:"email",value:i,placeholder:"example@gmail.com",onChange:n=>{o(n.target.value)},required:!0})]}),(0,P.jsxs)("label",{htmlFor:"name",children:["Phone:",(0,P.jsx)("input",{type:"tel",value:d,placeholder:"+380001234567",onChange:n=>{a(n.target.value)},pattern:"^\\+380\\d{9}$",required:!0})]}),(0,P.jsxs)("label",{htmlFor:"name",children:["Address:",(0,P.jsx)("input",{type:"text",value:x,placeholder:"Type your delivery address",onChange:n=>{c(n.target.value)},required:!0})]})]}),(0,P.jsx)(b,{children:(0,P.jsx)(g,{children:n&&n.map((n=>(0,P.jsx)(S,{product:n},n._id)))})})]}),(0,P.jsxs)(m,{children:[(0,P.jsxs)("p",{children:["Total price: ",v," \u20b4"]}),(0,P.jsx)("button",{type:"submit",children:"Submit"})]})]})})}},204:(n,e,r)=>{r.d(e,{A:()=>t});const t=r(154).A.create({baseURL:"https://medicine-delivery-app-backend-hkda.onrender.com"})}}]);
//# sourceMappingURL=711.84d7a3d0.chunk.js.map